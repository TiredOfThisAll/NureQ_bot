{% extends "layout.html" %}
{% block content %}
<div><h2>{{ queue.name|e }} (ID {{ queue.id }})</h2></div>
    <table class="table table-striped">
        <thead>
            <tr>
                <th></th>
                <th class="col-2">
                    User ID
                </th>
                <th class="col-8">
                    Name
                </th>
                <th class="col-2">
                    Crossed Out
                </th>
                <th class="col-1"></th>
            </tr>
        </thead>
        <tbody>
            {% for queue_member in queue_members %}
                <tr class="align-middle">
                    <td class="queue-reorder-controls">
                        <i class="bi bi-arrow-up {{ queue_member.position == 0 and 'disabled' }}" onclick="pullUpQueueMember()" disabled></i>
                        <br>
                        <i class="bi bi-arrow-down {{ queue_member.position == queue_members|length - 1 and 'disabled' }}" onclick="pullUpQueueMember()"></i>
                    </td>
                    <td>{{ queue_member.id }}</td>
                    <td class="col-4">{{ queue_member.user_info.get_formatted_name()|e }}</td>
                    <td><input class="form-check-input ms-2" type="checkbox" {{ queue_member.crossed and "checked" }} onclick="setMemberCrossedOut({{ queue.id }}, {{ queue_member.user_id }}, {{ (not queue_member.crossed)|int }})"></td>
                    <td>
                        <i class="bi bi-trash-fill btn btn-danger" onclick='deleteMember({{ queue.id }}, {{ queue.name|tojson }}, {{ queue_member.user_info.get_formatted_name()|tojson }}, {{ queue_member.user_id }})'></i>
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
{% endblock content %}
